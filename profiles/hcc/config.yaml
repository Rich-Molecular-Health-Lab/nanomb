executor: slurm
mode: default
jobs: 16

use-apptainer: true
apptainer-prefix: "/mnt/nrdstor/richlab/aliciarich/.apptainer"
apptainer-args: "--nv --bind /work,/lustre,/mnt/nrdstor,/home,/mnt/nrdstor/richlab/shared/dorado_models:/models,/mnt/nrdstor/richlab/shared/databases:/refdb"

slurm-account: richlab
slurm-logdir: "/mnt/nrdstor/richlab/shared/nanomb/.snakemake/slurm_logs"

# CPU defaults (used by rules that don't request GPUs)
default-resources:
  - mem_mb=8000
  - runtime=60
  - partition=batch
  - account=richlab
  - extra=""

envvars:
  - XDG_CACHE_HOME
  - TMPDIR
  - APPTAINER_CACHEDIR
  - APPTAINER_TMPDIR
  - SINGULARITY_CACHEDIR
  - SINGULARITY_TMPDIR

latency-wait: 60
restart-times: 1
printshellcmds: true
verbose: true