None
host: c2006.swan.hcc.unl.edu
Building DAG of jobs...
Updating checkpoint dependencies.
You are running snakemake in a SLURM job context. This is not recommended, as it may lead to unexpected behavior. Please run Snakemake directly on the login node.
SLURM run ID: 0cb780f1-2737-42cc-add6-6a491543f52b
Using shell: /usr/bin/bash
Provided remote nodes: 16
Job stats:
job          count
---------  -------
all              1
wf16s_run        1
total            2

Select jobs to execute...
Execute 1 jobs...
[Mon Nov 10 17:23:55 2025]
rule wf16s_run:
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    jobid: 101
    reason: Missing output files: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done; Params have changed since last execution: Union of exclusive params before and now across all output: before: <nothing exclusive> now: '/mnt/nrdstor/richlab/aliciarich/.apptainer' 
    threads: 16
    resources: mem_mb=32000, mem_mib=30518, disk_mb=1000, disk_mib=954, tmpdir=<TBD>, runtime=240, slurm_partition=batch, slurm_account=richlab, slurm_extra=, partition=batch, account=richlab, extra=
Shell command: 
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
Job 101 has been submitted with SLURM jobid 12788724 (log: /mnt/nrdstor/richlab/shared/nanomb/.snakemake/slurm_logs/rule_wf16s_run/12788724.log).
[Mon Nov 10 17:24:30 2025]
Error in rule wf16s_run:
    message: SLURM-job '12788724' failed, SLURM status is: 'FAILED'. For further error details see the cluster/cloud log and the log files of the involved rule(s).
    jobid: 101
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    log: /mnt/nrdstor/richlab/shared/nanomb/.snakemake/slurm_logs/rule_wf16s_run/12788724.log (check log file(s) for error details)
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
    external_jobid: 12788724
Logfile /mnt/nrdstor/richlab/shared/nanomb/.snakemake/slurm_logs/rule_wf16s_run/12788724.log:
================================================================================
host: c1818.swan.hcc.unl.edu
Building DAG of jobs...
Updating checkpoint dependencies.
Using shell: /usr/bin/bash
Provided remote nodes: 1
Select jobs to execute...
Execute 1 jobs...

[Mon Nov 10 17:23:59 2025]
rule wf16s_run:
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    jobid: 0
    reason: Forced execution
    threads: 16
    resources: mem_mb=32000, mem_mib=30518, disk_mb=1000, disk_mib=954, tmpdir=<TBD>, runtime=240, slurm_partition=batch, slurm_account=richlab, slurm_extra=, partition=batch, account=richlab, extra=
Shell command: 
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
host: c1818.swan.hcc.unl.edu
Building DAG of jobs...
Updating checkpoint dependencies.
Using shell: /usr/bin/bash
Provided cores: 16
Rules claiming more threads will be scaled down.
Select jobs to execute...
Execute 1 jobs...

[Mon Nov 10 17:24:00 2025]
localrule wf16s_run:
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    jobid: 0
    reason: Forced execution
    threads: 16
    resources: mem_mb=32000, mem_mib=30518, disk_mb=1000, disk_mib=954, tmpdir=/tmp, runtime=240, slurm_partition=batch, slurm_account=richlab, slurm_extra=, partition=batch, account=richlab, extra=
Shell command: 
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-001-S231
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-002-S93
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-004-S3
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-005-S11
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-010-S23
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-011-S10
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-013-S8
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-014-S18
RuleException:
CalledProcessError in file "/mnt/nrdstor/richlab/shared/nanomb/Snakefile", line 659:
Command 'set -euo pipefail;  
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"' returned non-zero exit status 141.
[Mon Nov 10 17:24:01 2025]
Error in rule wf16s_run:
    message: None
    jobid: 0
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
Shutting down, this might take some time.
Exiting because a job execution failed. Look below for error messages
[Mon Nov 10 17:24:01 2025]
Error in rule wf16s_run:
    message: None
    jobid: 0
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
Storing output in storage.
WorkflowError:
At least one job did not complete successfully.
srun: error: c1818: task 0: Exited with exit code 1
[Mon Nov 10 17:24:01 2025]
Error in rule wf16s_run:
    message: None
    jobid: 0
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
Shutting down, this might take some time.
Exiting because a job execution failed. Look below for error messages
[Mon Nov 10 17:24:01 2025]
Error in rule wf16s_run:
    message: None
    jobid: 0
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
Storing output in storage.
WorkflowError:
At least one job did not complete successfully.
================================================================================
Trying to restart job 101.
Select jobs to execute...
Execute 1 jobs...
[Mon Nov 10 17:24:30 2025]
rule wf16s_run:
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    jobid: 101
    reason: Missing output files: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done; Params have changed since last execution: Union of exclusive params before and now across all output: before: <nothing exclusive> now: '/mnt/nrdstor/richlab/aliciarich/.apptainer' 
    threads: 16
    resources: mem_mb=32000, mem_mib=30518, disk_mb=1000, disk_mib=954, tmpdir=<TBD>, runtime=240, slurm_partition=batch, slurm_account=richlab, slurm_extra=, partition=batch, account=richlab, extra=
Shell command: 
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
Job 101 has been submitted with SLURM jobid 12788726 (log: /mnt/nrdstor/richlab/shared/nanomb/.snakemake/slurm_logs/rule_wf16s_run/12788726.log).
[Mon Nov 10 17:24:50 2025]
Error in rule wf16s_run:
    message: SLURM-job '12788726' failed, SLURM status is: 'FAILED'. For further error details see the cluster/cloud log and the log files of the involved rule(s).
    jobid: 101
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    log: /mnt/nrdstor/richlab/shared/nanomb/.snakemake/slurm_logs/rule_wf16s_run/12788726.log (check log file(s) for error details)
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
    external_jobid: 12788726
Logfile /mnt/nrdstor/richlab/shared/nanomb/.snakemake/slurm_logs/rule_wf16s_run/12788726.log:
================================================================================
host: c1818.swan.hcc.unl.edu
Building DAG of jobs...
Updating checkpoint dependencies.
Using shell: /usr/bin/bash
Provided remote nodes: 1
Select jobs to execute...
Execute 1 jobs...

[Mon Nov 10 17:24:32 2025]
rule wf16s_run:
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    jobid: 0
    reason: Forced execution
    threads: 16
    resources: mem_mb=32000, mem_mib=30518, disk_mb=1000, disk_mib=954, tmpdir=<TBD>, runtime=240, slurm_partition=batch, slurm_account=richlab, slurm_extra=, partition=batch, account=richlab, extra=
Shell command: 
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
host: c1818.swan.hcc.unl.edu
Building DAG of jobs...
Updating checkpoint dependencies.
Using shell: /usr/bin/bash
Provided cores: 16
Rules claiming more threads will be scaled down.
Select jobs to execute...
Execute 1 jobs...

[Mon Nov 10 17:24:33 2025]
localrule wf16s_run:
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    jobid: 0
    reason: Forced execution
    threads: 16
    resources: mem_mb=32000, mem_mib=30518, disk_mb=1000, disk_mib=954, tmpdir=/tmp, runtime=240, slurm_partition=batch, slurm_account=richlab, slurm_extra=, partition=batch, account=richlab, extra=
Shell command: 
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-001-S231
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-002-S93
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-004-S3
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-005-S11
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-010-S23
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-011-S10
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-013-S8
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-014-S18
RuleException:
CalledProcessError in file "/mnt/nrdstor/richlab/shared/nanomb/Snakefile", line 659:
Command 'set -euo pipefail;  
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"' returned non-zero exit status 141.
[Mon Nov 10 17:24:34 2025]
Error in rule wf16s_run:
    message: None
    jobid: 0
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
Shutting down, this might take some time.
Exiting because a job execution failed. Look below for error messages
[Mon Nov 10 17:24:34 2025]
Error in rule wf16s_run:
    message: None
    jobid: 0
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
Storing output in storage.
WorkflowError:
At least one job did not complete successfully.
srun: error: c1818: task 0: Exited with exit code 1
[Mon Nov 10 17:24:34 2025]
Error in rule wf16s_run:
    message: None
    jobid: 0
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
Shutting down, this might take some time.
Exiting because a job execution failed. Look below for error messages
[Mon Nov 10 17:24:34 2025]
Error in rule wf16s_run:
    message: None
    jobid: 0
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
Storing output in storage.
WorkflowError:
At least one job did not complete successfully.
================================================================================
Trying to restart job 101.
Select jobs to execute...
Execute 1 jobs...
[Mon Nov 10 17:24:50 2025]
rule wf16s_run:
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    jobid: 101
    reason: Missing output files: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done; Params have changed since last execution: Union of exclusive params before and now across all output: before: <nothing exclusive> now: '/mnt/nrdstor/richlab/aliciarich/.apptainer' 
    threads: 16
    resources: mem_mb=32000, mem_mib=30518, disk_mb=1000, disk_mib=954, tmpdir=<TBD>, runtime=240, slurm_partition=batch, slurm_account=richlab, slurm_extra=, partition=batch, account=richlab, extra=
Shell command: 
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
Job 101 has been submitted with SLURM jobid 12788729 (log: /mnt/nrdstor/richlab/shared/nanomb/.snakemake/slurm_logs/rule_wf16s_run/12788729.log).
[Mon Nov 10 17:25:20 2025]
Error in rule wf16s_run:
    message: SLURM-job '12788729' failed, SLURM status is: 'FAILED'. For further error details see the cluster/cloud log and the log files of the involved rule(s).
    jobid: 101
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    log: /mnt/nrdstor/richlab/shared/nanomb/.snakemake/slurm_logs/rule_wf16s_run/12788729.log (check log file(s) for error details)
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
    external_jobid: 12788729
Logfile /mnt/nrdstor/richlab/shared/nanomb/.snakemake/slurm_logs/rule_wf16s_run/12788729.log:
================================================================================
host: c1818.swan.hcc.unl.edu
Building DAG of jobs...
Updating checkpoint dependencies.
Using shell: /usr/bin/bash
Provided remote nodes: 1
Select jobs to execute...
Execute 1 jobs...

[Mon Nov 10 17:24:54 2025]
rule wf16s_run:
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    jobid: 0
    reason: Forced execution
    threads: 16
    resources: mem_mb=32000, mem_mib=30518, disk_mb=1000, disk_mib=954, tmpdir=<TBD>, runtime=240, slurm_partition=batch, slurm_account=richlab, slurm_extra=, partition=batch, account=richlab, extra=
Shell command: 
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
host: c1818.swan.hcc.unl.edu
Building DAG of jobs...
Updating checkpoint dependencies.
Using shell: /usr/bin/bash
Provided cores: 16
Rules claiming more threads will be scaled down.
Select jobs to execute...
Execute 1 jobs...

[Mon Nov 10 17:24:55 2025]
localrule wf16s_run:
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    jobid: 0
    reason: Forced execution
    threads: 16
    resources: mem_mb=32000, mem_mib=30518, disk_mb=1000, disk_mib=954, tmpdir=/tmp, runtime=240, slurm_partition=batch, slurm_account=richlab, slurm_extra=, partition=batch, account=richlab, extra=
Shell command: 
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-001-S231
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-002-S93
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-004-S3
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-005-S11
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-010-S23
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-011-S10
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-013-S8
/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/HDZ-014-S18
RuleException:
CalledProcessError in file "/mnt/nrdstor/richlab/shared/nanomb/Snakefile", line 659:
Command 'set -euo pipefail;  
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"' returned non-zero exit status 141.
[Mon Nov 10 17:24:55 2025]
Error in rule wf16s_run:
    message: None
    jobid: 0
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
Shutting down, this might take some time.
Exiting because a job execution failed. Look below for error messages
[Mon Nov 10 17:24:56 2025]
Error in rule wf16s_run:
    message: None
    jobid: 0
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
Storing output in storage.
WorkflowError:
At least one job did not complete successfully.
srun: error: c1818: task 0: Exited with exit code 1
[Mon Nov 10 17:24:56 2025]
Error in rule wf16s_run:
    message: None
    jobid: 0
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
Shutting down, this might take some time.
Exiting because a job execution failed. Look below for error messages
[Mon Nov 10 17:24:56 2025]
Error in rule wf16s_run:
    message: None
    jobid: 0
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
Storing output in storage.
WorkflowError:
At least one job did not complete successfully.
================================================================================
Cleaning up log files older than 10 day(s).
Exiting because a job execution failed. Look below for error messages
[Mon Nov 10 17:26:00 2025]
Error in rule wf16s_run:
    message: None
    jobid: 101
    input: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in/.staged.ok, /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in
    output: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done
    shell:
        
      set -euo pipefail
      mkdir -p "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s" "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
    
      cache_root="/mnt/nrdstor/richlab/aliciarich/.apptainer"
      if [ -z "$cache_root" ]; then
        cache_root="/mnt/nrdstor/richlab/shared/.apptainer"
      fi
      tmp_root="$cache_root/tmp"
      mkdir -p "$cache_root/cache" "$tmp_root"
    
      export APPTAINER_CACHEDIR="${APPTAINER_CACHEDIR:-$cache_root/cache}"
      export SINGULARITY_CACHEDIR="${SINGULARITY_CACHEDIR:-$APPTAINER_CACHEDIR}"
      export APPTAINER_TMPDIR="${APPTAINER_TMPDIR:-$tmp_root}"
      export SINGULARITY_TMPDIR="${SINGULARITY_TMPDIR:-$APPTAINER_TMPDIR}"
      export NXF_SINGULARITY_CACHEDIR="$APPTAINER_CACHEDIR"
    
      export NXF_ANSI_LOG=false
      export NXF_DEFAULT_DSL=2
      export NXF_HOME="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work/.nxf"
    
      for d in "$APPTAINER_CACHEDIR" "$APPTAINER_TMPDIR"; do
        if ! [ -w "$d" ]; then
          echo "[wf16s_run] ERROR: directory not writable: $d" >&2
          ls -ld "$d" >&2 || true
          exit 77
        fi
      done
    
      if ! command -v nextflow >/dev/null 2>&1; then
        module load nextflow >/dev/null 2>&1 || true
      fi
    
      nf_profile="singularity"
      if [ "$nf_profile" = "auto" ]; then
        if command -v apptainer >/dev/null 2>&1; then
          nf_profile="apptainer"
        elif command -v singularity >/dev/null 2>&1; then
          nf_profile="singularity"
        elif command -v docker >/dev/null 2>&1; then
          nf_profile="docker"
        else
          nf_profile="conda"
        fi
      fi
    
      echo "[wf16s_run] using per-sample dir layout under: /mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" >&2
      find "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in" -mindepth 1 -maxdepth 1 -type d | sort | head -n 8 >&2
    
      nf_log="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.nextflow.log"
      nf_report="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.report.html"
      nf_timeline="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.timeline.html"
      nf_trace="/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/wf16s.trace.txt"
    
      nf_cmd=( nextflow run "epi2me-labs/wf-16s"
               --fastq "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_in"
               --min_len "1200"
               --min_read_qual "15"
               --max_len "1800"
               --threads "16"
               -profile "$nf_profile"
               --out_dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s"
               --minimap2_by_reference
               -work-dir "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/tmp/wf16s_work"
               -with-report "$nf_report"
               -with-timeline "$nf_timeline"
               -with-trace "$nf_trace"
               -resume )
    
      if [ -n "" ]; then
        nf_cmd+=( -r "" )
      fi
    
      echo "=== wf-16s ===" >&2
      printf "%q " "${nf_cmd[@]}" >&2; echo >&2
      printf "%q " "${nf_cmd[@]}" >>"$nf_log"; echo >>"$nf_log"
    
      trap "" PIPE
      set +e
      { "${nf_cmd[@]}"; } >>"$nf_log" 2>&1
      nf_status=$?
      set -e
    
      if [ $nf_status -ne 0 ]; then
        echo "[wf16s_run] Nextflow exited with code $nf_status; see $nf_log" >&2
        exit $nf_status
      fi
    
      : > "/mnt/nrdstor/richlab/shared/datasets/16s/loris/culi/wf16s/.wf16s.done"
    
        (command exited with non-zero exit code)
Complete log(s): /mnt/nrdstor/richlab/shared/nanomb/.snakemake/log/2025-11-10T172349.103730.snakemake.log
WorkflowError:
At least one job did not complete successfully.
